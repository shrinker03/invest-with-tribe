{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Acer\\\\Workspace\\\\React-Course\\\\invest-with-tribe\\\\date-filter\\\\front-end\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Acer\\\\Workspace\\\\React-Course\\\\invest-with-tribe\\\\date-filter\\\\front-end\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{USER_LOGIN_FAIL,USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_REGISTER_FAIL,USER_REGISTER_REQUEST,USER_REGISTER_SUCCESS}from\"../../constants/userConstants\";export var login=function login(email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:USER_LOGIN_REQUEST});config={headers:{'Content-Type':'application/json'}};_context.next=5;return axios.post('api/users/login',{email:email,password:password},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:USER_LOGIN_SUCCESS,payload:data});// localStorage.setItem('userInfo', JSON.stringify(data))\n_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);dispatch({type:USER_LOGIN_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.response});case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// export const logOut = () => (dispatch) => {\n//     localStorage.removeItem('userInfo')\n//     dispatch({\n//         type: USER_LOGOUT\n//     })\n//     dispatch({\n//         type: USER_DETAILS_RESET\n//     })\n//     dispatch({\n//         type: ORDER_LIST_MY_RESET\n//     })\n//     dispatch({\n//         type: USER_LIST_RESET\n//     })\n//     dispatch({\n//         type: RESET_CART_ITEM\n//     })\n// }\nexport var register=function register(email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:USER_REGISTER_REQUEST});config={headers:{'Content-Type':'application/json'}};_context2.next=5;return axios.post('/api/users',{email:email,password:password},config);case 5:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;dispatch({type:USER_REGISTER_SUCCESS,payload:data});dispatch({type:USER_LOGIN_SUCCESS,payload:data});// localStorage.setItem('userInfo', JSON.stringify(data))\n_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:USER_REGISTER_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.response});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/Acer/Workspace/React-Course/invest-with-tribe/date-filter/front-end/src/Components/actions/userActions.js"],"names":["axios","USER_LOGIN_FAIL","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_REGISTER_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","login","email","password","dispatch","type","config","headers","post","data","payload","response","message","register"],"mappings":"gWAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,eAAT,CAA0BC,kBAA1B,CAA8CC,kBAA9C,CAAkEC,kBAAlE,CAAsFC,qBAAtF,CAA6GC,qBAA7G,KAA0I,+BAA1I,CAEA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAQC,QAAR,iGAAqB,iBAAMC,QAAN,oKAElCA,QAAQ,CAAC,CACLC,IAAI,CAAET,kBADD,CAAD,CAAR,CAIMU,MAN4B,CAMnB,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CANmB,uBAYbb,CAAAA,KAAK,CAACc,IAAN,CAAW,iBAAX,CAA8B,CAACN,KAAK,CAALA,KAAD,CAAQC,QAAQ,CAARA,QAAR,CAA9B,CAAiDG,MAAjD,CAZa,wCAY3BG,IAZ2B,mBAY3BA,IAZ2B,CAclCL,QAAQ,CAAC,CACLC,IAAI,CAAER,kBADD,CAELa,OAAO,CAAED,IAFJ,CAAD,CAAR,CAKA;AAnBkC,iFAqBlCL,QAAQ,CAAC,CACLC,IAAI,CAAEV,eADD,CAELe,OAAO,CACH,YAAMC,QAAN,EAAkB,YAAMA,QAAN,CAAeF,IAAf,CAAoBG,OAAtC,CACE,YAAMD,QAAN,CAAeF,IAAf,CAAoBG,OADtB,CAEE,YAAMD,QALP,CAAD,CAAR,CArBkC,qEAArB,gEAAd,CA+BP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAO,IAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACX,KAAD,CAAQC,QAAR,kGAAqB,kBAAMC,QAAN,0KAErCA,QAAQ,CAAC,CACLC,IAAI,CAAEN,qBADD,CAAD,CAAR,CAIMO,MAN+B,CAMtB,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CANsB,wBAYhBb,CAAAA,KAAK,CAACc,IAAN,CAAW,YAAX,CAAyB,CAACN,KAAK,CAALA,KAAD,CAAQC,QAAQ,CAARA,QAAR,CAAzB,CAA4CG,MAA5C,CAZgB,0CAY9BG,IAZ8B,oBAY9BA,IAZ8B,CAcrCL,QAAQ,CAAC,CACLC,IAAI,CAAEL,qBADD,CAELU,OAAO,CAAED,IAFJ,CAAD,CAAR,CAKAL,QAAQ,CAAC,CACLC,IAAI,CAAER,kBADD,CAELa,OAAO,CAAED,IAFJ,CAAD,CAAR,CAKA;AAxBqC,qFA0BrCL,QAAQ,CAAC,CACLC,IAAI,CAAEP,kBADD,CAELY,OAAO,CACH,aAAMC,QAAN,EAAkB,aAAMA,QAAN,CAAeF,IAAf,CAAoBG,OAAtC,CACE,aAAMD,QAAN,CAAeF,IAAf,CAAoBG,OADtB,CAEE,aAAMD,QALP,CAAD,CAAR,CA1BqC,uEAArB,kEAAjB","sourcesContent":["import axios from \"axios\"\r\nimport { USER_LOGIN_FAIL, USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS } from \"../../constants/userConstants\"\r\n\r\nexport const login = (email, password) => async(dispatch) => {\r\n    try{\r\n        dispatch({\r\n            type: USER_LOGIN_REQUEST,\r\n        })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const {data} = await axios.post('api/users/login', {email, password}, config)\r\n\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        // localStorage.setItem('userInfo', JSON.stringify(data))\r\n    }catch(error) {\r\n        dispatch({\r\n            type: USER_LOGIN_FAIL,\r\n            payload: \r\n                error.response && error.response.data.message\r\n                ? error.response.data.message \r\n                : error.response\r\n        })\r\n    }\r\n}\r\n\r\n// export const logOut = () => (dispatch) => {\r\n//     localStorage.removeItem('userInfo')\r\n//     dispatch({\r\n//         type: USER_LOGOUT\r\n//     })\r\n//     dispatch({\r\n//         type: USER_DETAILS_RESET\r\n//     })\r\n//     dispatch({\r\n//         type: ORDER_LIST_MY_RESET\r\n//     })\r\n//     dispatch({\r\n//         type: USER_LIST_RESET\r\n//     })\r\n//     dispatch({\r\n//         type: RESET_CART_ITEM\r\n//     })\r\n// }\r\n\r\nexport const register = (email, password) => async(dispatch) => {\r\n    try{\r\n        dispatch({\r\n            type: USER_REGISTER_REQUEST,\r\n        })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const {data} = await axios.post('/api/users', {email, password}, config)\r\n\r\n        dispatch({\r\n            type: USER_REGISTER_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        // localStorage.setItem('userInfo', JSON.stringify(data))\r\n    }catch(error) {\r\n        dispatch({\r\n            type: USER_REGISTER_FAIL,\r\n            payload: \r\n                error.response && error.response.data.message\r\n                ? error.response.data.message \r\n                : error.response\r\n        })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}